### 作业题解答

---

#### **1. PV操作并发程序设计**
假设缓冲区B1和B2各能存放一个记录，使用信号量`empty1`, `full1`和`empty2`, `full2`来控制缓冲区的空满状态。

**进程 read**
```c
P(empty1);
将记录存入缓冲区B1;
V(full1);
```

**进程 move**
```c
P(full1);
从缓冲区B1取记录并加工;
V(empty1);
P(empty2);
将加工后的记录存入缓冲区B2;
V(full2);
```

**进程 print**
```c
P(full2);
从缓冲区B2取记录打印;
V(empty2);
```

---

#### **2. 进程A和B打印值问题**

1. **可能的打印值**
   初值 `N=4`，进程A先执行3次循环，`N=19`，接着与B并发。可能打印值包括：
   - `N=19`（进程B在进程A执行前读取了N）。
   - `N=24`（进程A增加后，进程B读取了N，但未及时置零）。

2. **正确管理方式（用PV操作）**
引入信号量`mutex`确保互斥访问`N`：
```c
// 进程A
while(true) {
    P(mutex);
    N = N + 5;
    V(mutex);
}

// 进程B
while(true) {
    P(mutex);
    打印N;
    N = 0;
    V(mutex);
}
```

---

#### **3. 作业调度**

##### (1) 先来先服务（FCFS）
完成调度表如下：
| 作业 | 进入系统时间 | 估计运行时间/分钟 | 开始时间 | 结束时间 | 周转时间/分钟 |
|------|--------------|------------------|----------|----------|---------------|
| 1    | 8:00         | 40               | 8:00     | 8:40     | 40            |
| 2    | 8:20         | 30               | 8:40     | 9:10     | 50            |
| 3    | 8:30         | 12               | 9:10     | 9:22     | 52            |
| 4    | 9:00         | 18               | 9:22     | 9:40     | 40            |
| 5    | 9:10         | 5                | 9:40     | 9:45     | 35            |

平均周转时间 \(T = (40+50+52+40+35)/5 = 43.4\) 分钟。

##### (2) 最短作业优先（SJF）
完成调度表如下：
| 作业 | 进入系统时间 | 估计运行时间/分钟 | 开始时间 | 结束时间 | 周转时间/分钟 |
|------|--------------|------------------|----------|----------|---------------|
| 1    | 8:00         | 40               | 8:00     | 8:40     | 40            |
| 3    | 8:30         | 12               | 8:40     | 8:52     | 22            |
| 5    | 9:10         | 5                | 8:52     | 8:57     | 47            |
| 4    | 9:00         | 18               | 8:57     | 9:15     | 15            |
| 2    | 8:20         | 30               | 9:15     | 9:45     | 85            |

平均周转时间 \(T = (40+22+47+15+85)/5 = 41.8\) 分钟。

---

#### **4. 逻辑地址到物理地址**
页面大小为1024字节。逻辑地址分解为页号和页内偏移量：
1. 地址 1011：页号=0，偏移=1011；物理块号=2，物理地址=2×1024+1011=3035。
2. 地址 2148：页号=2，偏移=100；物理块号=1，物理地址=1×1024+100=1124。
3. 地址 4000：页号=3，偏移=928；物理块号=6，物理地址=6×1024+928=7200。
4. 地址 5012：页号=4，超出范围，无效地址。

---

#### **5. 缺页中断问题**

##### (1) FIFO调度算法
页面序列为：[1, 2, 1, 0, 4, 1, 3, 4, 2, 1]。分配300字主存（3页）。
- 缺页次数：8次。
- 淘汰序列：1→2→0→4。
- 缺页中断率：\(8/10=80\%\)。

##### (2) LRU调度算法
页面序列为：[1, 2, 1, 0, 4, 1, 3, 4, 2, 1]。
- 缺页次数：7次。
- 淘汰序列：1→2→0→3。
- 缺页中断率：\(7/10=70\%\)。

---

#### **6. 进程状态变迁**
(1) 变迁原因：
- 1：进程从“就绪”进入“运行”，可能因调度器分配CPU。
- 3：进程从“运行”进入“等待”，通常是发出I/O请求。
- 4：进程从“运行”进入“高优先就绪”，可能因时间片用完被中断。

(2) 因果变迁可能性：
- A) 1→3：不可能，“就绪”态不能直接进入“等待”态。
- B) 2→4：可能，低优先进程被高优先级抢占。
- C) 4→1：可能，高优先就绪的进程被调度运行。
- D) 5→1：可能，I/O完成后进入“运行”态。
- E) 3→2：不可能，等待态不会直接进入低优先就绪态。

如果需要具体公式或图示进一步解析，请告知！
